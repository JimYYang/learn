### 面试题

---

![image-20231126093810974](/Users/jsyang/Library/Application Support/typora-user-images/image-20231126093810974.png)

从内存角度来说  一次可能加载几个页面  所以不同的段可能会放在一个内存区  从段角度来说  不同的段彼此独立

---

#### 为什么从右往左压栈

![image-20231126095638722](/Users/jsyang/Library/Application Support/typora-user-images/image-20231126095638722.png)

为了访问可变参函数的第一个参数

---

![image-20231126100135151](/Users/jsyang/Library/Application Support/typora-user-images/image-20231126100135151.png)

![image-20231126100651441](/Users/jsyang/Library/Application Support/typora-user-images/image-20231126100651441.png)

注意是构造新对象才会优化  采用赋值运算不会优化

如果`fun`中直接写`return s1+s2`则会省略`tmp`的构造和析构

![image-20231126100950808](/Users/jsyang/Library/Application Support/typora-user-images/image-20231126100950808.png)

---

![image-20231126101312999](/Users/jsyang/Library/Application Support/typora-user-images/image-20231126101312999.png)

因为在C中  struct相当于 变量 定义变量内存就够了 既然变量里什么都没有 那么不需要内存 所以为0

 c++中struct是对象（内存加构造） 构造函数需要对象的地址 所以生成对象必须有内存

```c++
struct a{
  char c;
};
sizeof(a) = 1
  
struct a{
  char c;
  char b;
  char d;
};
sizeof(a) = 3
```

