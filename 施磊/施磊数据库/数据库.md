### 数据库

---

![image-20231207075610412](/Users/jsyang/Library/Application Support/typora-user-images/image-20231207075610412.png)

---

#### 数据类型

![image-20231208102918086](/Users/jsyang/Library/Application Support/typora-user-images/image-20231208102918086.png)

---

![image-20231208140350256](/Users/jsyang/Library/Application Support/typora-user-images/image-20231208140350256.png)

---

![image-20231208161323905](/Users/jsyang/Library/Application Support/typora-user-images/image-20231208161323905.png)

---

### 更新数据的效率问题

![image-20231214152947642](/Users/jsyang/Library/Application Support/typora-user-images/image-20231214152947642.png)

---

### limit提升效率

`limit`在没有索引的情况下可能会显著提升效率

![image-20231214213835293](/Users/jsyang/Library/Application Support/typora-user-images/image-20231214213835293.png)

---


你的观察是正确的，这涉及到SQL中的聚合函数和分组的使用规则。

在执行SQL查询时，当你使用聚合函数（如`AVG()`）时，通常需要使用`GROUP BY`语句来指定按哪些列进行分组。这是因为聚合函数通常会对每个分组的数据进行计算，而不是整个结果集。

当你只查询一门课程（例如`cid=2`）的平均成绩时，可以省略`GROUP BY`，因为查询的结果只包括一门课程的数据，而不需要进一步分组。在这种情况下，聚合函数将计算整个结果集的平均值。

但是，当你想要查询所有课程的平均成绩时，你实际上需要将数据分组为每门课程，并计算每门课程的平均成绩。因此，在这种情况下，需要使用`GROUP BY`来指定按课程分组。

简而言之，使用`GROUP BY`取决于查询的需求。如果你需要按照某个条件将数据分组并应用聚合函数，那么就需要使用`GROUP BY`。如果只是对整个结果集应用聚合函数而不需要分组，那么可以省略`GROUP BY`。

---

索引和`select`无关  和`where`过滤有关  多表查询时 小表整个扫描  如果有`where` 会先过滤  而不是查完了再过滤  过滤后大小表的关系可能会发生变化

`where`可以通过索引过滤 效率很快

---

外连接查询不存在  而且存在限制条件 限制条件都放在`on`后面  不能放`where`里面